{"version":3,"sources":["webpack:///./templates/img.hbs","webpack:///./js/refs.js","webpack:///./index.js","webpack:///./js/pixabayApi.js","webpack:///./js/loadMore.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","program","noop","searchForm","document","getElementById","gallery","imagesApiPixabay","constructor","this","searchQuery","page","imageType","orientation","fetchImages","console","log","url","fetch","then","response","json","incrementPage","hits","resetPage","newQuery","loadMoreBtn","selector","hidden","refs","getRefs","hide","button","querySelector","show","classList","remove","add","appendImagesMarkup","images","insertAdjacentHTML","imagesTpl","addEventListener","e","preventDefault","innerHTML","query","currentTarget","elements","value","scrollIntoView","behavior","block"],"mappings":"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","file":"main.0b6d52b00f51c018fd30.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"photo-card\\\">\\n  <img src=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"webformatURL\") || (depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":11},\"end\":{\"line\":3,\"column\":27}}}) : helper)))\n    + \" alt= \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"tags\") || (depth0 != null ? lookupProperty(depth0,\"tags\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"tags\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":33},\"end\":{\"line\":3,\"column\":41}}}) : helper)))\n    + \" />\\n\\n  <div class=\\\"stats\\\">\\n    <p class=\\\"stats-item\\\">\\n      <i class=\\\"material-icons\\\">thumb_up</i>\\n      \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"likes\") || (depth0 != null ? lookupProperty(depth0,\"likes\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":6},\"end\":{\"line\":8,\"column\":15}}}) : helper)))\n    + \"\\n    </p>\\n    <p class=\\\"stats-item\\\">\\n      <i class=\\\"material-icons\\\">visibility</i>\\n      \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"views\") || (depth0 != null ? lookupProperty(depth0,\"views\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":6},\"end\":{\"line\":12,\"column\":15}}}) : helper)))\n    + \"\\n    </p>\\n    <p class=\\\"stats-item\\\">\\n      <i class=\\\"material-icons\\\">comment</i>\\n      \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"comments\") || (depth0 != null ? lookupProperty(depth0,\"comments\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":6},\"end\":{\"line\":16,\"column\":18}}}) : helper)))\n    + \"\\n    </p>\\n    <p class=\\\"stats-item\\\">\\n      <i class=\\\"material-icons\\\">cloud_download</i>\\n      \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"downloads\") || (depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":6},\"end\":{\"line\":20,\"column\":19}}}) : helper)))\n    + \"\\n    </p>\\n  </div>\\n</div>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":24,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","export default {\n    searchForm: document.getElementById(\"search-form\"),\n    gallery: document.getElementById(\"gallery\"),\n  //  loadMoreBtn: document.querySelector('[data-action=\"load-more\"]'),\n}\n","import './styles.css';\nimport ImagesApiPixabay from './js/pixabayApi.js';\nimport LoadMoreBtn from './js/loadMore.js';\nimport refs from './js/refs.js';\nimport imagesTpl from './templates/img.hbs';\n\nconst imagesApiPixabay = new ImagesApiPixabay();\nconst loadMoreBtn = new LoadMoreBtn({selector: '[data-action=\"load-more\"]', hidden: true})\n\nrefs.searchForm.addEventListener(\"submit\", onSearch);\nloadMoreBtn.refs.button.addEventListener(\"click\", onLoadMore);\n\nfunction onLoadMore (e) {\n    imagesApiPixabay.fetchImages().then(images => {\n        appendImagesMarkup(images)\n    if (imagesApiPixabay.page > 2) {\n        gallery.scrollIntoView({\n        behavior: 'smooth',\n        block: 'end'\n        });\n      }\n    });\n}\n\nfunction onSearch (e) {\n   e.preventDefault();\n   clearImagesContainer();\n   imagesApiPixabay.query = e.currentTarget.elements.query.value;\n   imagesApiPixabay.resetPage();\n   imagesApiPixabay.fetchImages().then(appendImagesMarkup);\n   loadMoreBtn.show();\n}\n\nfunction appendImagesMarkup(images) {\n    refs.gallery.insertAdjacentHTML('beforeend', imagesTpl(images));\n  }\n  \n  function clearImagesContainer() {\n    refs.gallery.innerHTML = '';\n  }\n\n\n\n\n","const API_KEY = '21864216-f735fea3a07168d74f35b2198';\n\nconst BASE_URL = \"https://pixabay.com/api/?key=\"+API_KEY+\"&q=\";\n\n\nexport default class ImagesApiPixabay {\n    constructor() {\n      this.searchQuery = '';\n      this.page = 1;\n      this.imageType = 'photo';\n      this.orientation = 'horizontal';\n    }\n  \n    fetchImages( ) {\n      console.log(this );\n      const url = `${BASE_URL}${this.searchQuery}&image_type=${this.imageType}&orientation=${this.orientation}&page=${this.page}&per_page=12`;\n  \n      return fetch(url)\n        .then(response => response.json())\n        .then((data) => {\n          this.incrementPage();\n          return data.hits;\n        });\n    }\n  \n    incrementPage() {\n      this.page += 1;\n    }\n  \n    resetPage() {\n      this.page = 1;\n    }\n  \n    get query() {\n      return this.searchQuery;\n    }\n  \n    set query(newQuery) {\n      this.searchQuery = newQuery;\n    }\n  }\n","// const element = document.getElementById('.my-element-selector');\n// element.scrollIntoView({\n//   behavior: 'smooth',\n//   block: 'end',\n// });\n\nexport default class LoadMoreBtn {\n    constructor({ selector, hidden = false }) {\n      this.refs = this.getRefs(selector);\n  \n      hidden && this.hide();\n    }\n  \n    getRefs(selector) {\n      const refs = {};\n      refs.button = document.querySelector(selector);\n      return refs;\n    }\n  \n    show() {\n      this.refs.button.classList.remove('is-hidden');\n    }\n  \n    hide() {\n      this.refs.button.classList.add('is-hidden');\n    }\n  }"],"sourceRoot":""}